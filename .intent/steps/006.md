---
step: 6
title: "ブラウザオーバーレイとesbuildバンドル構築"
session: "d771f496-21d3-45d1-a0c1-cca6dd892173"
timestamp: 2026-02-17T00:17:18Z
tags: []
---

## prompt

リファレンス実装からブラウザオーバーレイUIをTypeScriptで移植し、設定ベースのAPI/パス/セレクタに変更、esbuildでIIFEバンドルするビルド環境を構築する指示

## reasoning

オーバーレイをブログ専用からconfig駆動の汎用UIに変更し、__REDLINE_CONFIGでAPIベース・ファイルパス・セレクタを外部注入可能にした。esbuildでブラウザ向けIIFEバンドルを生成し、overlay/tsconfig.jsonでDOM型のIDE補完を確保

## outcome

overlay/ai-edit-overlay.tsにconfig駆動のAI編集オーバーレイUI、esbuild.config.jsでワンコマンドビルド、overlay/dist/overlay.js（13KB）の自動生成が可能になった
